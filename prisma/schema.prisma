generator client {
  provider = "prisma-client"
}

datasource db {
  provider = "mongodb"
}

model User {
  id String @id @map("_id") @db.ObjectId @default(auto())

  nome String
  dtNascimento DateTime?
  email String @unique
  senha Int

  endereco Endereco?

  dtCriacao DateTime @default(now())
  dtAtualizacao DateTime @updatedAt

  posts Post[]
}

model Post {
  id String @id @map("_id") @db.ObjectId @default(auto())

  titulo String
  conteudo String
  curtidas Int @default(0)
  tags Tag[]

  autorId String @db.ObjectId
  autor User @relation(fields: [autorId], references: [id])

  dtCriacao DateTime @default(now())
  dtAtualizacao DateTime @updatedAt
}

type Tag {
  nome String
  dtCriacao DateTime @default(now())
}

type Endereco {
  cidade String
  uf String
  rua String
  numero Int
}